
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Index Builder &mdash; AP Command 2013.08.15 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2013.08.15',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="AP Command 2013.08.15 documentation" href="index.html" />
    <link rel="next" title="commoncode.index_builder.grab_headline" href="api/commoncode.index_builder.grab_headline.html" />
    <link rel="prev" title="commoncode.commons.PlotSetup.__exit__" href="api/commoncode.commons.PlotSetup.__exit__.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Commoncode Documentation</span></a></h1>
        <h2 class="heading"><span>Index Builder</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="api/commoncode.commons.PlotSetup.__exit__.html">commoncode.commons.PlotSetup.__exit__</a>
        &#160;&#160;::&#160;&#160;
    <a href="_sources/index_builder.txt"
           rel="nofollow">Show Source</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="api/commoncode.index_builder.grab_headline.html">commoncode.index_builder.grab_headline</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="index-builder">
<h1>Index Builder<a class="headerlink" href="#index-builder" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>To try and ease the building of the Table of Contents for folders once the modules start exploding (which they inevitably do) they will be auto-generated. To do so the following two assumptions will be made:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Any file with the extension <cite>.rst</cite> that is not <cite>index.rst</cite> should be included in the <cite>index.rst</cite> in the same folder</li>
<li>Any folder in the same directory that has an <cite>index.rst</cite> file should include the sub-folder <cite>index.rst</cite></li>
<li>The first non-empty line of each included file should be used as the displayed name in the table of contents</li>
</ol>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This means that if any sub-folder does not have an <cite>index.rst</cite> file then its sub-folders will not be included.</p>
</div>
</div>
<div class="section" id="the-headline-grabber">
<h2>The Headline Grabber<a class="headerlink" href="#the-headline-grabber" title="Permalink to this headline">¶</a></h2>
<p>Since the convention for creating tables of contents is to use the form:</p>
<div class="highlight-python"><pre>pretty name &lt;filename&gt;</pre>
</div>
<p>The first non-empty line of the included files will be used as the <cite>pretty name</cite>.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="api/commoncode.index_builder.grab_headline.html#commoncode.index_builder.grab_headline" title="commoncode.index_builder.grab_headline"><tt class="xref py py-obj docutils literal"><span class="pre">grab_headline</span></tt></a>(filename)</td>
<td>A convenience function to grab the first non-empty line</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-toctree-creator">
<h2>The Toctree Creator<a class="headerlink" href="#the-toctree-creator" title="Permalink to this headline">¶</a></h2>
<p>This function will generate a toctree by applying the <a class="reference internal" href="#index-builder-introduction"><em>assumptions</em></a> mentioned above. To be safe it will add an empty line above and below the output. For this to work the weaving code will need to turn off echoing and using &#8216;sphinx&#8217; for the results:</p>
<div class="highlight-python"><pre>&lt;&lt;name='example', echo=False, results='sphinx'&gt;&gt;=
create_toctree(maxdepth=1)</pre>
</div>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="api/commoncode.index_builder.create_toctree.html#commoncode.index_builder.create_toctree" title="commoncode.index_builder.create_toctree"><tt class="xref py py-obj docutils literal"><span class="pre">create_toctree</span></tt></a>([maxdepth,&nbsp;subfolders,&nbsp;...])</td>
<td>Sends a toctree to standard out</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="subfolder-toctree">
<h2>Subfolder Toctree<a class="headerlink" href="#subfolder-toctree" title="Permalink to this headline">¶</a></h2>
<p>For sub-folders there are different cases. I think most of the time it is easiest just to grab them all up, but often it is more meaningful to add commentary to the indices which will require that they be grabbed individually (here is where use-cases might be helpful).</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="api/commoncode.index_builder.subfolder_toctree.html#commoncode.index_builder.subfolder_toctree" title="commoncode.index_builder.subfolder_toctree"><tt class="xref py py-obj docutils literal"><span class="pre">subfolder_toctree</span></tt></a>([maxdepth,&nbsp;subfolders,&nbsp;...])</td>
<td>Creates the toctree for sub-folder indices</td>
</tr>
</tbody>
</table>
</div>
</div>


      </div>
      <div class="bottomnav">

      
        <p>
        «&#160;&#160;<a href="api/commoncode.commons.PlotSetup.__exit__.html">commoncode.commons.PlotSetup.__exit__</a>
        &#160;&#160;::&#160;&#160;
    <a href="_sources/index_builder.txt"
           rel="nofollow">Show Source</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="api/commoncode.index_builder.grab_headline.html">commoncode.index_builder.grab_headline</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2013, russelln.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b2.
    </div>
  </body>
</html>